---
import { CollectionEntry, getCollection } from "astro:content";
import BaseLayout from "~/layouts/BaseLayout.astro";

export async function getStaticPaths() {
  const snippets = await getCollection<"snippets">("snippets");

  return await Promise.all(
    snippets.map(async (snippet) => ({
      params: { slug: snippet.slug },
      props: {
        ...(await snippet.render()),
      },
    }))
  );
}

export interface Props {
  snippet: CollectionEntry<"snippets">;
}

const { Content } = Astro.props;
---

<BaseLayout title="Single Snippet" description="Single Snippet Page">
  <article>
    <Content />
  </article>
</BaseLayout>
